# QUICK FIX: Minimal changes for immediate speed improvement
# Just replace the test job in your existing workflow with this

  test:
    name: ðŸ§ª Tests
    runs-on: ubuntu-latest
    strategy:
      fail-fast: false
      matrix:
        chunk: 
          - { name: "Components", cmd: "set1", timeout: 8 }
          - { name: "Pages & State", cmd: "set2", timeout: 6 }  
          - { name: "Hooks & Utils", cmd: "set3", timeout: 7 }
          - { name: "Integration", cmd: "set4", timeout: 5 }
    timeout-minutes: ${{ matrix.chunk.timeout }}
    
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        
      - name: Setup Node.js  
        uses: actions/setup-node@v4
        with:
          node-version: '18'
          cache: 'yarn'
          
      - name: Install dependencies
        run: yarn install --frozen-lockfile
        
      - name: Build packages
        run: yarn g:build
        
      - name: Run Tests - ${{ matrix.chunk.name }}
        env:
          CI: true
          NODE_OPTIONS: "--max-old-space-size=4096"
        run: yarn workspace @uniswap/interface test:${{ matrix.chunk.cmd }}

# This alone cuts time from 20min â†’ 6-8min with much higher success rate!